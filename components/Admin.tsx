import { AsyncButton } from 'common/Button'
import { FooterSlim } from 'common/FooterSlim'
import { HeaderSlim } from 'common/HeaderSlim'
import Head from 'next/head'
import { useState } from 'react'
import { VscChevronLeft } from 'react-icons/vsc'

import { AdminStakePool } from './AdminPool'
import { AdminPools } from './AdminPools'

type PANE_OPTIONS = 'create' | 'edit'

// const paneTabs: {
//   label: JSX.Element
//   value: PANE_OPTIONS
//   disabled?: boolean
//   tooltip?: string
// }[] = [
//   {
//     label: <div className="flex items-center gap-2">Create</div>,
//     value: 'create',
//     tooltip: 'Create a new pool',
//   },
//   {
//     label: <div className="flex items-center gap-2">Edit</div>,
//     value: 'edit',
//     tooltip: 'Edit existing pools',
//   },
// ]

function Admin() {
  const [pane, setPane] = useState<PANE_OPTIONS>('edit')
  return (
    <div className="flex min-h-screen flex-col">
      <Head>
        <title>Cardinal Staking UI</title>
        <meta name="description" content="Generated by Cardinal Staking UI" />
        <link rel="icon" href="/favicon.ico" />
        <script
          defer
          data-domain="stake.cardinal.so"
          src="https://plausible.io/js/plausible.js"
        ></script>
      </Head>

      <HeaderSlim />
      <div className="container mx-auto w-full flex-grow">
        <div className="mt-8 flex items-center justify-between">
          <div className="text-2xl font-medium">
            {
              {
                create: (
                  <div
                    className="flex cursor-pointer items-center justify-center gap-2"
                    onClick={() => setPane('edit')}
                  >
                    <VscChevronLeft />
                    Manage
                  </div>
                ),
                edit: 'Your Stake Pool',
              }[pane]
            }
          </div>
          {
            {
              create: '',
              edit: (
                <AsyncButton
                  className="px-6 py-2"
                  onClick={() => setPane('create')}
                >
                  Create +
                </AsyncButton>
              ),
            }[pane]
          }
          {/* <TabSelector<PANE_OPTIONS>
            defaultOption={paneTabs[0]}
            options={paneTabs}
            value={paneTabs.find((p) => p.value === pane)}
            onChange={(o) => {
              setPane(o.value)
            }}
          /> */}
        </div>
        {
          {
            create: <AdminStakePool />,
            edit: <AdminPools />,
          }[pane]
        }
      </div>
      <FooterSlim />
    </div>
  )
}

export default Admin
